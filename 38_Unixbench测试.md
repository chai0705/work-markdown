==摆脱一份幻觉比发现一个真理更能使人明智==

==当你在凝视深渊的时候深渊也在凝视你==

==我希望用一生的时间不断深入和学习电子计算机相关的全部知识，将其整理成网络并分享出去，与更多志同道合的朋友共同进步，你清楚的知道，如果做不到这一点，你将永远不快乐==

~~~
echo performance > /sys/class/devfreq/dmc/governor
~~~



![image-20240510151527938](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106433.png)



![image-20240510160414733](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106402.png)

关于RK3588的DDR测试到这里就差不多了，不是很理解，现在对今天一天的测试进行说明。

> Dhrystone（德赖斯通）
> 由Reinhold Weicker在1984年开发。该基准测试被用于测量和比较计算机的性能。该测试重点关注字符串处理，没有浮点运算。它受硬件和软件设计、编译器和链接器选项、代码优化、缓存内存、等待状态以及整数数据类型的影响。
>
> Whetstone（韦石）
> 该测试测量浮点运算的速度和效率。该测试包含几个模块，旨在代表在科学应用中通常执行的操作的混合。广泛使用C函数，包括sin、cos、sqrt、exp和log，以及整数和浮点数的数学运算、数组访问、条件分支和过程调用。该测试同时测量整数和浮点数运算。
>
> execl 吞吐量
> 该测试测量每秒可以执行的execl调用次数。execl是exec函数族的一部分，用于用新的进程映像替换当前进程映像。它和许多其他类似的命令是execve()函数的前端。
>
> 文件拷贝
> 该测试测量从一个文件传输数据到另一个文件的速率，使用不同的缓冲区大小。文件读取、写入和拷贝测试捕获在指定时间内（默认为10秒）可以写入、读取和复制的字符数。
>
> 管道吞吐量
> 管道是进程之间最简单的通信形式。管道吞吐量是每秒一个进程可以向管道写入512字节并读取回来的次数。管道吞吐量测试在现实世界的编程中没有真正的对应。
>
> 基于管道的上下文切换
> 该测试测量两个进程通过管道交换递增整数的次数。基于管道的上下文切换测试更像是一个实际的应用程序。测试程序生成一个带有子进程的管道会话，进行双向管道交流。
>
> 进程创建
> 该测试测量一个进程可以fork和回收一个立即退出的子进程的次数。进程创建指的是实际创建进程控制块和新进程的内存分配，因此直接涉及内存带宽。通常，此基准测试用于比较不同操作系统进程创建调用的实现。
>
> Shell脚本
> Shell脚本测试测量每分钟一个进程可以启动和回收一组一、两、四和八个并发副本的Shell脚本的次数，其中Shell脚本对数据文件应用一系列的转换。
>
> 系统调用开销
> 该测试估算进入和离开操作系统内核的成本，即执行系统调用的开销。它由一个简单的程序重复调用getpid（返回调用进程的进程ID）系统调用组成。执行此类调用的时间用于估计进入和离开内核的开销。
>
> 图形测试
> 提供了2D和3D图形测试；目前，特别是3D套件非常有限，只包括ubgears程序。这些测试旨在提供系统的2D和3D图形性能的大致概念。请记住，报告的性能不仅取决于硬件，还取决于系统是否具有适当的驱动程序。

## 1.烧写当前网盘的最新镜像

### DDR4得分

![image-20240510161501778](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106392.png)

### DDR5得分

![image-20240510161538964](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106366.png)

其实我测了两次，这一次的得分接近，还有一次我定频测试了，发现得分相较于没定频反而更低了，少了八九百，具体截图如下所示：
![image-20240510161650450](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106415.png)

==现在他们用的都是现在的镜像，国强测试的仅仅只是单核跑分，一千二百多确实还行，我这里只是跑到了1034，然后继续看。==

## 2.烧写国强提供的镜像

### DDR4

![image-20240510163247297](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106325.png)

### DDR5

![](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106870.png)

这里DDR5的优势就发挥出来了，得分确实高了很多，当然只是看的DDR5的，但是你看DDR4的就非常惨淡。

## 3.用原镜像改了rkbin和uboot

发现最终的得分跟烧写当前网盘的得分是一样的，那就证明是内核的原因了，这就很奇怪了，难道还能是驱动的问题吗，我认为不应该的。

## 4.用原镜像加国强的内核

这个测试就没有问题,但这时候出现了一些意外，那就是只替换内核的情况下，我发现他们两个的跑分都提高了很多，我这里是直接烧写的国强的内核，现在来只替换内核驱动试一下。DDR4是六千多，DDR5是五千九百多。

但是我发现DDR5的性能还是没发挥出来，猜测是rkbin的问题，所以又换成了最新的rkbin

## 5.替换了最新的2400M rkbin

DDR5

![image-20240511101550168](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106911.png)

DDR4

![image-20240511101621448](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106001.png)



6.在上面的基础上加入了定频

DDR4

![image-20240511105348379](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106073.png)

DDR5

![image-20240511105400298](https://chai-1301855619.cos.ap-beijing.myqcloud.com/202405141106034.png)

